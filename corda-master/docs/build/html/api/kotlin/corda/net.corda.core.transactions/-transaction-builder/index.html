<HTML>
<HEAD>
<meta charset="UTF-8">
<title>TransactionBuilder - corda</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">corda</a>&nbsp;/&nbsp;<a href="../index.html">net.corda.core.transactions</a>&nbsp;/&nbsp;<a href=".">TransactionBuilder</a><br/>
<br/>
<h1>TransactionBuilder</h1>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">TransactionBuilder</span></code>
<p>A TransactionBuilder is a transaction class that's mutable (unlike the others which are all immutable). It is
intended to be passed around contracts that may edit it by adding new states/commands. Then once the states
and commands are right, this class can be used as a holding bucket to gather signatures from multiple parties.</p>
<p>The builder can be customised for specific transaction types, e.g. where additional processing is needed
before adding a state/command.</p>
<h3>Parameters</h3>

<p><a name="notary"></a>
<code>notary</code> - Notary used for the transaction. If null, this indicates the transaction DOES NOT have a notary.
When this is set to a non-null value, an output state can be added by just passing in a <a href="../../net.corda.core.contracts/-contract-state/index.html">ContractState</a> â€“ a
<a href="../../net.corda.core.contracts/-transaction-state/index.html">TransactionState</a> with this notary specified will be generated automatically.
<p><a name="signers"></a>
<code>signers</code> - The set of public keys the transaction needs signatures for. The logic for building the signers set
can be customised for every <a href="../../net.corda.core.contracts/-transaction-type/index.html">TransactionType</a>. E.g. in the general case it contains the command and notary public keys,
but for the <a href="../../net.corda.core.contracts/-transaction-type/-notary-change/index.html">TransactionType.NotaryChange</a> transactions it is the set of all input <a href="../../net.corda.core.contracts/-contract-state/participants.html">ContractState.participants</a>.
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">TransactionBuilder</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.contracts.TransactionType, net.corda.core.crypto.Party, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command)), kotlin.collections.MutableSet((net.corda.core.crypto.CompositeKey)), net.corda.core.contracts.Timestamp)/type">type</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-transaction-type/index.html"><span class="identifier">TransactionType</span></a>&nbsp;<span class="symbol">=</span>&nbsp;TransactionType.General()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.contracts.TransactionType, net.corda.core.crypto.Party, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command)), kotlin.collections.MutableSet((net.corda.core.crypto.CompositeKey)), net.corda.core.contracts.Timestamp)/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.crypto/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.contracts.TransactionType, net.corda.core.crypto.Party, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command)), kotlin.collections.MutableSet((net.corda.core.crypto.CompositeKey)), net.corda.core.contracts.Timestamp)/inputs">inputs</span><span class="symbol">:</span>&nbsp;<span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.contracts.TransactionType, net.corda.core.crypto.Party, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command)), kotlin.collections.MutableSet((net.corda.core.crypto.CompositeKey)), net.corda.core.contracts.Timestamp)/attachments">attachments</span><span class="symbol">:</span>&nbsp;<span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.contracts.TransactionType, net.corda.core.crypto.Party, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command)), kotlin.collections.MutableSet((net.corda.core.crypto.CompositeKey)), net.corda.core.contracts.Timestamp)/outputs">outputs</span><span class="symbol">:</span>&nbsp;<span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.contracts.TransactionType, net.corda.core.crypto.Party, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command)), kotlin.collections.MutableSet((net.corda.core.crypto.CompositeKey)), net.corda.core.contracts.Timestamp)/commands">commands</span><span class="symbol">:</span>&nbsp;<span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.contracts.TransactionType, net.corda.core.crypto.Party, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command)), kotlin.collections.MutableSet((net.corda.core.crypto.CompositeKey)), net.corda.core.contracts.Timestamp)/signers">signers</span><span class="symbol">:</span>&nbsp;<span class="identifier">MutableSet</span><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-composite-key/index.html"><span class="identifier">CompositeKey</span></a><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;mutableSetOf()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.contracts.TransactionType, net.corda.core.crypto.Party, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command)), kotlin.collections.MutableSet((net.corda.core.crypto.CompositeKey)), net.corda.core.contracts.Timestamp)/timestamp">timestamp</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-timestamp/index.html"><span class="identifier">Timestamp</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<span class="symbol">)</span></code>
<p>A TransactionBuilder is a transaction class that's mutable (unlike the others which are all immutable). It is
intended to be passed around contracts that may edit it by adding new states/commands. Then once the states
and commands are right, this class can be used as a holding bucket to gather signatures from multiple parties.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="attachments.html">attachments</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">attachments</span><span class="symbol">: </span><span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="commands.html">commands</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">commands</span><span class="symbol">: </span><span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="current-sigs.html">currentSigs</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">currentSigs</span><span class="symbol">: </span><a href="http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html"><span class="identifier">ArrayList</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-digital-signature/-with-key/index.html"><span class="identifier">WithKey</span></a><span class="symbol">&gt;</span></code>
<p>The signatures that have been collected so far - might be incomplete!</p>
</td>
</tr>
<tr>
<td>
<a href="inputs.html">inputs</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">inputs</span><span class="symbol">: </span><span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="notary.html">notary</a></td>
<td>
<code><span class="keyword">var </span><span class="identifier">notary</span><span class="symbol">: </span><a href="../../net.corda.core.crypto/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">?</span></code></td>
</tr>
<tr>
<td>
<a href="outputs.html">outputs</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">outputs</span><span class="symbol">: </span><span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="signers.html">signers</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">signers</span><span class="symbol">: </span><span class="identifier">MutableSet</span><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-composite-key/index.html"><span class="identifier">CompositeKey</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="time.html">time</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">time</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-timestamp/index.html"><span class="identifier">Timestamp</span></a><span class="symbol">?</span></code></td>
</tr>
<tr>
<td>
<a href="timestamp.html">timestamp</a></td>
<td>
<code><span class="keyword">var </span><span class="identifier">timestamp</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-timestamp/index.html"><span class="identifier">Timestamp</span></a><span class="symbol">?</span></code></td>
</tr>
<tr>
<td>
<a href="type.html">type</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">type</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-transaction-type/index.html"><span class="identifier">TransactionType</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="add-attachment.html">addAttachment</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addAttachment</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addAttachment(net.corda.core.crypto.SecureHash)/attachmentId">attachmentId</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="add-command.html">addCommand</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addCommand</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addCommand(net.corda.core.contracts.Command)/arg">arg</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><br/>
<code><span class="keyword">fun </span><span class="identifier">addCommand</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addCommand(net.corda.core.contracts.CommandData, kotlin.Array((net.corda.core.crypto.CompositeKey)))/data">data</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-command-data.html"><span class="identifier">CommandData</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addCommand(net.corda.core.contracts.CommandData, kotlin.Array((net.corda.core.crypto.CompositeKey)))/keys">keys</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.crypto/-composite-key/index.html"><span class="identifier">CompositeKey</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><br/>
<code><span class="keyword">fun </span><span class="identifier">addCommand</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addCommand(net.corda.core.contracts.CommandData, kotlin.collections.List((net.corda.core.crypto.CompositeKey)))/data">data</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-command-data.html"><span class="identifier">CommandData</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addCommand(net.corda.core.contracts.CommandData, kotlin.collections.List((net.corda.core.crypto.CompositeKey)))/keys">keys</span><span class="symbol">:</span>&nbsp;<span class="identifier">List</span><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-composite-key/index.html"><span class="identifier">CompositeKey</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="add-input-state.html">addInputState</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">addInputState</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addInputState(net.corda.core.contracts.StateAndRef((net.corda.core.contracts.ContractState)))/stateAndRef">stateAndRef</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-state-and-ref/index.html"><span class="identifier">StateAndRef</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="add-output-state.html">addOutputState</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addOutputState</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))/state">state</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Int</span></code><br/>
<code><span class="keyword">fun </span><span class="identifier">addOutputState</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, net.corda.core.crypto.Party, kotlin.Int)/state">state</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, net.corda.core.crypto.Party, kotlin.Int)/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.crypto/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, net.corda.core.crypto.Party, kotlin.Int)/encumbrance">encumbrance</span><span class="symbol">:</span>&nbsp;<span class="identifier">Int</span><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Int</span></code><code><span class="keyword">fun </span><span class="identifier">addOutputState</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState)/state">state</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Int</span></code>
<p>A default notary must be specified during builder construction to use this method</p>
</td>
</tr>
<tr>
<td>
<a href="add-signature-unchecked.html">addSignatureUnchecked</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addSignatureUnchecked</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addSignatureUnchecked(net.corda.core.crypto.DigitalSignature.WithKey)/sig">sig</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.crypto/-digital-signature/-with-key/index.html"><span class="identifier">WithKey</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">TransactionBuilder</span></code>
<p>Adds the signature directly to the transaction, without checking it for validity.</p>
</td>
</tr>
<tr>
<td>
<a href="attachments.html">attachments</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">attachments</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">List</span><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="check-and-add-signature.html">checkAndAddSignature</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">checkAndAddSignature</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$checkAndAddSignature(net.corda.core.crypto.DigitalSignature.WithKey)/sig">sig</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.crypto/-digital-signature/-with-key/index.html"><span class="identifier">WithKey</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Checks that the given signature matches one of the commands and that it is a correct signature over the tx, then
adds it.</p>
</td>
</tr>
<tr>
<td>
<a href="check-signature.html">checkSignature</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">checkSignature</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$checkSignature(net.corda.core.crypto.DigitalSignature.WithKey)/sig">sig</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.crypto/-digital-signature/-with-key/index.html"><span class="identifier">WithKey</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Checks that the given signature matches one of the commands and that it is a correct signature over the tx.</p>
</td>
</tr>
<tr>
<td>
<a href="commands.html">commands</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">commands</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">List</span><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="copy.html">copy</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">copy</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">TransactionBuilder</span></code>
<p>Creates a copy of the builder.</p>
</td>
</tr>
<tr>
<td>
<a href="input-states.html">inputStates</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">inputStates</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">List</span><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="output-states.html">outputStates</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">outputStates</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">List</span><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="set-time.html">setTime</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">setTime</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$setTime(java.time.Instant, java.time.Duration)/time">time</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/time/Instant.html"><span class="identifier">Instant</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$setTime(java.time.Instant, java.time.Duration)/timeTolerance">timeTolerance</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/time/Duration.html"><span class="identifier">Duration</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Places a <a href="#">TimestampCommand</a> in this transaction, removing any existing command if there is one.
The command requires a signature from the Notary service, which acts as a Timestamp Authority.
The signature can be obtained using <a href="#">NotaryFlow</a>.</p>
<code><span class="keyword">fun </span><span class="identifier">setTime</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$setTime(net.corda.core.contracts.Timestamp)/newTimestamp">newTimestamp</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-timestamp/index.html"><span class="identifier">Timestamp</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="sign-with.html">signWith</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">signWith</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$signWith(java.security.KeyPair)/key">key</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">TransactionBuilder</span></code></td>
</tr>
<tr>
<td>
<a href="to-signed-transaction.html">toSignedTransaction</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">toSignedTransaction</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$toSignedTransaction(kotlin.Boolean)/checkSufficientSignatures">checkSufficientSignatures</span><span class="symbol">:</span>&nbsp;<span class="identifier">Boolean</span>&nbsp;<span class="symbol">=</span>&nbsp;true<span class="symbol">)</span><span class="symbol">: </span><a href="../-signed-transaction/index.html"><span class="identifier">SignedTransaction</span></a></code></td>
</tr>
<tr>
<td>
<a href="to-wire-transaction.html">toWireTransaction</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">toWireTransaction</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-wire-transaction/index.html"><span class="identifier">WireTransaction</span></a></code></td>
</tr>
<tr>
<td>
<a href="with-items.html">withItems</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">withItems</span><span class="symbol">(</span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.core.transactions.TransactionBuilder$withItems(kotlin.Array((kotlin.Any)))/items">items</span><span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">TransactionBuilder</span></code>
<p>A more convenient way to add items to this transaction that calls the add* methods for you based on type</p>
</td>
</tr>
</tbody>
</table>
<h3>Inheritors</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../net.corda.core.contracts/-transaction-type/-general/-builder/index.html">Builder</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">Builder</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">TransactionBuilder</span></code>
<p>Just uses the default TransactionBuilder with no special logic</p>
</td>
</tr>
<tr>
<td>
<a href="../../net.corda.core.contracts/-transaction-type/-notary-change/-builder/index.html">Builder</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">Builder</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">TransactionBuilder</span></code>
<p>A transaction builder that automatically sets the transaction type to <a href="../../net.corda.core.contracts/-transaction-type/-notary-change/index.html">NotaryChange</a>
and adds the list of participants to the signers set for every input state.</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
