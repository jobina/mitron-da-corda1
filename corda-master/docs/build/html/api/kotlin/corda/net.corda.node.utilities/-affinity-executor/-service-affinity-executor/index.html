<HTML>
<HEAD>
<meta charset="UTF-8">
<title>AffinityExecutor.ServiceAffinityExecutor - corda</title>
<link rel="stylesheet" href="../../../../style.css">
</HEAD>
<BODY>
<a href="../../../index.html">corda</a>&nbsp;/&nbsp;<a href="../../index.html">net.corda.node.utilities</a>&nbsp;/&nbsp;<a href="../index.html">AffinityExecutor</a>&nbsp;/&nbsp;<a href=".">ServiceAffinityExecutor</a><br/>
<br/>
<h1>ServiceAffinityExecutor</h1>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">ServiceAffinityExecutor</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../index.html"><span class="identifier">AffinityExecutor</span></a><span class="symbol">, </span><a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html"><span class="identifier">ThreadPoolExecutor</span></a></code>
<p>An executor backed by thread pool (which may often have a single thread) which makes it easy to schedule
tasks in the future and verify code is running on the executor.</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">ServiceAffinityExecutor</span><span class="symbol">(</span><span class="identifier" id="net.corda.node.utilities.AffinityExecutor.ServiceAffinityExecutor$<init>(kotlin.String, kotlin.Int)/threadName">threadName</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="net.corda.node.utilities.AffinityExecutor.ServiceAffinityExecutor$<init>(kotlin.String, kotlin.Int)/numThreads">numThreads</span><span class="symbol">:</span>&nbsp;<span class="identifier">Int</span><span class="symbol">)</span></code>
<p>An executor backed by thread pool (which may often have a single thread) which makes it easy to schedule
tasks in the future and verify code is running on the executor.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="is-on-thread.html">isOnThread</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">isOnThread</span><span class="symbol">: </span><span class="identifier">Boolean</span></code>
<p>Returns true if the current thread is equal to the thread this executor is backed by.</p>
</td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="after-execute.html">afterExecute</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">afterExecute</span><span class="symbol">(</span><span class="identifier" id="net.corda.node.utilities.AffinityExecutor.ServiceAffinityExecutor$afterExecute(java.lang.Runnable, kotlin.Throwable)/r">r</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Runnable.html"><span class="identifier">Runnable</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.node.utilities.AffinityExecutor.ServiceAffinityExecutor$afterExecute(java.lang.Runnable, kotlin.Throwable)/t">t</span><span class="symbol">:</span>&nbsp;<span class="identifier">Throwable</span><span class="symbol">?</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="flush.html">flush</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">flush</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Run the executor until there are no tasks pending and none executing.</p>
</td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="../check-on-thread.html">checkOnThread</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">checkOnThread</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Throws an IllegalStateException if the current thread is not one of the threads this executor is backed by.</p>
</td>
</tr>
<tr>
<td>
<a href="../execute-a-s-a-p.html">executeASAP</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">executeASAP</span><span class="symbol">(</span><span class="identifier" id="net.corda.node.utilities.AffinityExecutor$executeASAP(kotlin.Function0((kotlin.Unit)))/runnable">runnable</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>If isOnThread() then runnable is invoked immediately, otherwise the closure is queued onto the backing thread.</p>
</td>
</tr>
<tr>
<td>
<a href="../fetch-from.html">fetchFrom</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span> <span class="identifier">fetchFrom</span><span class="symbol">(</span><span class="identifier" id="net.corda.node.utilities.AffinityExecutor$fetchFrom(kotlin.Function0((net.corda.node.utilities.AffinityExecutor.fetchFrom.T)))/fetcher">fetcher</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">T</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">T</span></code>
<p>Runs the given function on the executor, blocking until the result is available. Be careful not to deadlock this
way! Make sure the executor can't possibly be waiting for the calling thread.</p>
</td>
</tr>
</tbody>
</table>
<h3>Companion Object Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="logger.html">logger</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">logger</span><span class="symbol">: </span><span class="identifier">Logger</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
